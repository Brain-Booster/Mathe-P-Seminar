(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{821:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contact/models",function(){return r(2566)}])},5286:function(e,t,r){"use strict";function n(){try{let e=localStorage.getItem("teamMembers");return e?JSON.parse(e):null}catch(e){return console.error("Error getting team members from localStorage:",e),null}}async function o(){try{let e=await fetch("/api/team");if(!e.ok)throw Error("Failed to fetch team members");return await e.json()}catch(e){throw console.error("Error fetching team members:",e),e}}function l(e){try{return localStorage.setItem("teamMembers",JSON.stringify(e)),Promise.resolve(e)}catch(e){return console.error("Error updating team members in localStorage:",e),Promise.reject(e)}}r.d(t,{Lp:function(){return o},Y7:function(){return l},nY:function(){return n}})},2602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return a},noSSR:function(){return i}});let n=r(8754);r(5893),r(7294);let o=n._(r(5491));function l(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){return delete t.webpack,delete t.modules,e(t)}function a(e,t){let r=o.default,n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let a=(n={...n,...t}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?r({...n,loader:()=>null!=a?a().then(l):Promise.resolve(l(()=>null))}):(delete n.webpack,delete n.modules,i(r,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=r(8754)._(r(7294)).default.createContext(null)},5491:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});let n=r(8754)._(r(7294)),o=r(1159),l=[],i=[],a=!1;function s(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function u(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),l=null;function s(){if(!l){let t=new d(e,r);l={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return l.promise()}if(!a){let e=r.webpack?r.webpack():r.modules;e&&i.push(t=>{for(let r of e)if(t.includes(r))return s()})}function u(e,t){!function(){s();let e=n.default.useContext(o.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let i=n.default.useSyncExternalStore(l.subscribe,l.getCurrentValue,l.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:l.retry}),[]),n.default.useMemo(()=>{var t;return i.loading||i.error?n.default.createElement(r.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:l.retry}):i.loaded?n.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return u.preload=()=>s(),u.displayName="LoadableComponent",n.default.forwardRef(u)}(s,e)}function c(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return c(e,t)})}u.preloadAll=()=>new Promise((e,t)=>{c(l).then(e,t)}),u.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let r=()=>(a=!0,t());c(i,e).then(r,r)})),window.__NEXT_PRELOADREADY=u.preloadReady;let p=u},2566:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),o=r(7294),l=r(9008),i=r.n(l),a=r(1664),s=r.n(a),d=r(4298),u=r.n(d),c=r(4609),p=r.n(c),h=r(6501),m=r(9402),g=r(2482),f=r(5152),x=r.n(f),b=r(5286);let y=x()(()=>Promise.all([r.e(737),r.e(808),r.e(782)]).then(r.bind(r,4782)),{loadableGenerated:{webpack:()=>[4782]},ssr:!1});function j(){let{theme:e}=(0,g.F)(),[t,r]=(0,o.useState)([]),[l,a]=(0,o.useState)(null),[d,c]=(0,o.useState)(""),[f,x]=(0,o.useState)(""),[j,v]=(0,o.useState)(null),[w,_]=(0,o.useState)(!1);(0,o.useEffect)(()=>{r(b.mockModels)},[]);let k=async e=>{if(e.preventDefault(),j){_(!0);try{let e=new FormData;e.append("file",j),e.append("fileType","models");let n=await fetch("/api/uploadModel",{method:"POST",body:e});if(!n.ok)throw Error("Upload failed");let o=await n.json(),l=j.name,i={id:t.length>0?Math.max(...t.map(e=>e.id))+1:1,name:l,path:o.fileUrl,dateUploaded:new Date().toISOString().split("T")[0]};r([...t,i]),a(i),x("Model erfolgreich hochgeladen!"),v(null),setTimeout(()=>{x("")},3e3)}catch(e){console.error("Error uploading model:",e),alert("Fehler beim Hochladen des 3D-Modells. Bitte versuchen Sie es erneut.")}finally{_(!1)}}};return(0,n.jsxs)("div",{className:p().container,children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"3D-Modelle verwalten | Schulprojekt"}),(0,n.jsx)("meta",{name:"description",content:"Hochladen und Verwalten von 3D-Modellen f\xfcr Projekte"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)(u(),{src:"https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js",type:"module",strategy:"beforeInteractive"})]}),(0,n.jsx)(h.Z,{}),(0,n.jsxs)("main",{className:p().main,children:[(0,n.jsx)("div",{style:{width:"100%",marginBottom:"2rem"},children:(0,n.jsxs)(s(),{href:"/contact",style:{display:"inline-flex",alignItems:"center",color:"var(--text-light)",fontSize:"0.95rem",transition:"color 0.2s ease"},children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"6px"},children:(0,n.jsx)("polyline",{points:"15 18 9 12 15 6"})}),"Zur\xfcck zum Admin-Bereich"]})}),(0,n.jsx)("h1",{style:{fontSize:"2.5rem",margin:"0 0 1.5rem",color:"var(--title-color)",fontWeight:700},children:"3D-Modelle verwalten"}),f&&(0,n.jsx)("div",{style:{padding:"12px",backgroundColor:"rgba(0, 200, 0, 0.1)",border:"1px solid rgba(0, 200, 0, 0.3)",borderRadius:"5px",marginBottom:"20px",color:"#00c000"},children:f}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",width:"100%"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Neues Modell hochladen"}),(0,n.jsxs)("div",{style:{border:"2px dashed #666",borderRadius:"8px",padding:"20px",textAlign:"center",backgroundColor:"rgba(0,0,0,0.1)",marginBottom:"20px"},children:[(0,n.jsx)("p",{style:{marginTop:0},children:"3D-Modell hochladen"}),(0,n.jsx)("p",{style:{fontSize:"0.9rem",color:"#888",margin:"10px 0"},children:"Unterst\xfctzte Formate: GLB, GLTF, OBJ, STL, FBX (max. 100MB)"}),(0,n.jsxs)("form",{onSubmit:k,children:[(0,n.jsxs)("label",{style:{display:"inline-block",padding:"10px 15px",backgroundColor:"var(--accent-blue)",color:"white",borderRadius:"5px",cursor:"pointer",marginBottom:"15px"},children:["Datei ausw\xe4hlen",(0,n.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files[0];t&&v(t)},style:{display:"none"},accept:".glb,.gltf,.obj,.stl,.fbx"})]}),j&&(0,n.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"4px",marginBottom:"15px"},children:[j.name," (",Math.round(j.size/1024)," KB)"]}),(0,n.jsx)("button",{type:"submit",disabled:!j||w,style:{padding:"10px 20px",backgroundColor:j?"var(--accent-green)":"#555",color:"white",border:"none",borderRadius:"5px",cursor:j?"pointer":"not-allowed",opacity:j?1:.7},children:w?"Uploading...":"Hochladen"})]})]}),(0,n.jsx)("h2",{style:{fontSize:"1.5rem",marginTop:"2rem",marginBottom:"1rem"},children:"Hochgeladene Modelle"}),0===t.length?(0,n.jsx)("p",{children:"Keine Modelle vorhanden"}):(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:t.map(e=>(0,n.jsx)("div",{style:{padding:"15px",backgroundColor:(null==l?void 0:l.id)===e.id?"rgba(var(--accent-blue-rgb), 0.1)":"var(--card-bg)",borderRadius:"8px",cursor:"pointer",border:(null==l?void 0:l.id)===e.id?"1px solid var(--accent-blue)":"1px solid transparent"},onClick:()=>a(e),children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{margin:"0 0 5px",fontSize:"1.1rem"},children:e.name}),(0,n.jsxs)("p",{style:{margin:"0",fontSize:"0.9rem",color:"var(--text-light)"},children:["Hochgeladen am: ",e.dateUploaded]})]}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),(0,n.jsx)("polyline",{points:"2 17 12 22 22 17"}),(0,n.jsx)("polyline",{points:"2 12 12 17 22 12"})]})]})},e.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Modell-Vorschau"}),l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{height:"300px",borderRadius:"8px",marginBottom:"1.5rem",overflow:"hidden",backgroundColor:"var(--bg-darker)"},children:(0,n.jsx)(y,{modelPath:l.path,width:"100%",height:"100%"})}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:(0,n.jsxs)(s(),{href:"/models/".concat(l.id),style:{padding:"8px 16px",backgroundColor:"var(--accent-green)",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"8px"},children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Im Vollbildmodus anzeigen"]})}),(0,n.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"Einem Projekt zuweisen"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,n.jsxs)("select",{value:d,onChange:e=>c(e.target.value),style:{padding:"10px",borderRadius:"5px",backgroundColor:"var(--card-bg)",color:"var(--text-color)",border:"1px solid #555",flex:1},children:[(0,n.jsx)("option",{value:"",children:"Projekt ausw\xe4hlen"}),(0,n.jsx)("option",{value:"1",children:"3D Stuhl-Modellierung"}),(0,n.jsx)("option",{value:"2",children:"Projekt Zwei"}),(0,n.jsx)("option",{value:"3",children:"Projekt Drei"}),(0,n.jsx)("option",{value:"4",children:"Projekt Vier"}),(0,n.jsx)("option",{value:"5",children:"Projekt F\xfcnf"})]}),(0,n.jsx)("button",{onClick:()=>{l&&d&&(alert('Model "'.concat(l.name,'" wurde dem Projekt ').concat(d," zugewiesen.")),c(""))},disabled:!d,style:{padding:"10px 15px",backgroundColor:"var(--accent-blue)",color:"white",border:"none",borderRadius:"5px",cursor:d?"pointer":"not-allowed",opacity:d?1:.5},children:"Zuweisen"})]})]}):(0,n.jsxs)("div",{style:{height:"300px",borderRadius:"8px",backgroundColor:"var(--card-bg)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"20px",textAlign:"center"},children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginBottom:"15px",color:"var(--text-light)"},children:[(0,n.jsx)("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),(0,n.jsx)("polyline",{points:"2 17 12 22 22 17"}),(0,n.jsx)("polyline",{points:"2 12 12 17 22 12"})]}),(0,n.jsx)("p",{children:"W\xe4hlen Sie ein Modell aus der Liste aus, um die Vorschau anzuzeigen"})]})]})]})]}),(0,n.jsx)(m.Z,{})]})}},5152:function(e,t,r){e.exports=r(2602)},4298:function(e,t,r){e.exports=r(3381)}},function(e){e.O(0,[664,371,888,774,179],function(){return e(e.s=821)}),_N_E=e.O()}]);