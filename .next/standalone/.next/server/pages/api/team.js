"use strict";(()=>{var e={};e.id=772,e.ids=[772],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},6778:(e,t,r)=>{r.r(t),r.d(t,{config:()=>A,default:()=>P,routeModule:()=>j});var a={};r.r(a),r.d(a,{default:()=>y});var n=r(1802),i=r(7153),s=r(6249),o=r(2048),d=r.n(o),l=r(5315),c=r.n(l);let u=[{id:"1",name:"Max",nachname:"Mustermann",projekt:"3D-Modellierung",projektId:"1",profileImage:"/team/default-avatar.png",specializations:["Mathematik","Entwicklung"]},{id:"2",name:"Anna",nachname:"Beispiel",projekt:"Interaktive Webseite",projektId:"2",profileImage:"/team/default-avatar.png",specializations:["Web-Design","UI/UX"]},{id:"3",name:"Lisa",nachname:"Musterfrau",projekt:"KI-gesteuerter Roboter",projektId:"3",profileImage:"/team/default-avatar.png",specializations:["K\xfcnstliche Intelligenz","Datenanalyse"]}],m=c().join(process.cwd(),"data"),f=c().join(m,"team.json");d().existsSync(m)||d().mkdirSync(m,{recursive:!0});let p=()=>{try{if(d().existsSync(c().join(process.cwd(),"data"))||d().mkdirSync(c().join(process.cwd(),"data")),d().existsSync(f)){let e=d().readFileSync(f,"utf8");return JSON.parse(e).map(e=>({...e,projektId:e.projektId||"",specializations:e.specializations||[]}))}return d().writeFileSync(f,JSON.stringify(u,null,2)),u}catch(e){return console.error("Error loading team members:",e),u}},g=e=>{try{return d().writeFileSync(f,JSON.stringify(e,null,2),"utf8"),!0}catch(e){return console.error("Error saving team members data:",e),!1}},h=async(e,t)=>{try{let a;let n=`${t.name} ${t.nachname}`;switch(e){case"add":a=`Neues Teammitglied '${n}' hinzugef\xfcgt`;break;case"edit":a=`Teammitglied '${n}' bearbeitet`;break;case"delete":a=`Teammitglied '${n}' entfernt`;break;default:a=`Teammitglied '${n}' aktualisiert`}let{default:i}=await r.e(477).then(r.bind(r,6477)),s={method:"POST",body:{type:"team",action:e,text:a}};await i(s,{status:()=>({json:()=>{}}),setHeader:()=>{}})}catch(e){console.error("Error recording team activity:",e)}};function y(e,t){if(t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type"),"OPTIONS"===e.method){t.status(200).end();return}if("GET"===e.method){let e=p();t.status(200).json(e);return}if("POST"===e.method){try{let r=e.body;if(!Array.isArray(r)){t.status(400).json({error:"Invalid data format. Expected an array of team members."});return}for(let e of r){if(!e.id||!e.name||!e.nachname){t.status(400).json({error:"Each team member must have id, name, and nachname fields."});return}void 0===e.projektId&&(e.projektId="")}let a=p();g(r);let n=a.map(e=>e.id),i=r.map(e=>e.id);r.filter(e=>!n.includes(e.id)).forEach(e=>{h("add",e)}),r.filter(e=>n.includes(e.id)&&JSON.stringify(e)!==JSON.stringify(a.find(t=>t.id===e.id))).forEach(e=>{h("edit",e)}),a.filter(e=>!i.includes(e.id)).forEach(e=>{h("delete",e)}),t.status(200).json({message:"Team members updated successfully",count:r.length})}catch(e){console.error("Error updating team members:",e),t.status(500).json({error:"Failed to update team members",details:e.message})}return}t.setHeader("Allow",["GET","POST","OPTIONS"]),t.status(405).end(`Method ${e.method} Not Allowed`)}let P=(0,s.l)(a,"default"),A=(0,s.l)(a,"config"),j=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/team",pathname:"/api/team",bundlePath:"",filename:""},userland:a})},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=6778);module.exports=r})();